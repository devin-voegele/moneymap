{
  "name": "MoneyMap Marketing - Simple",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 9,15,21 * * *"
            }
          ]
        }
      },
      "id": "schedule-trigger",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1,
      "position": [240, 300],
      "notes": "Triggers 3x daily: 9AM, 3PM, 9PM"
    },
    {
      "parameters": {
        "functionCode": "const platforms = [\n  { platform: 'twitter', maxLength: 280 },\n  { platform: 'instagram', maxLength: 500 },\n  { platform: 'tiktok', maxLength: 300 }\n];\n\nconst contentTypes = [\n  'budgeting_tip',\n  'subscription_hack',\n  'savings_goal',\n  'student_money',\n  'app_feature',\n  'user_testimonial'\n];\n\nconst hour = new Date().getHours();\nlet selectedType;\n\nif (hour === 9) {\n  selectedType = 'budgeting_tip';\n} else if (hour === 15) {\n  selectedType = 'app_feature';\n} else {\n  selectedType = 'user_testimonial';\n}\n\nreturn platforms.map(p => ({\n  json: {\n    platform: p.platform,\n    contentType: selectedType,\n    maxLength: p.maxLength,\n    timestamp: new Date().toISOString()\n  }\n}));"
      },
      "id": "platform-router",
      "name": "Platform Router",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [460, 300],
      "notes": "Creates 3 platform targets"
    },
    {
      "parameters": {
        "functionCode": "const templates = {\n  budgeting_tip: [\n    \"ğŸ’° Quick money tip: Track your subscriptions. Most people forget about â‚¬50-100/month in unused subs.\\n\\nMoneyMap shows them all. Cancel what you don't need. â†’ moneymap.app\",\n    \"ğŸ¯ Student budget hack: Know your 'free money' = Income - Fixed Costs - Subscriptions.\\n\\nMoneyMap calculates it instantly. â†’ moneymap.app\",\n    \"ğŸ’¡ Money wisdom: You can't save what you don't track.\\n\\nMoneyMap shows exactly where your money goes. 5 min setup. â†’ moneymap.app\",\n    \"ğŸ“Š Real budget clarity = Income - Expenses = Free Money\\n\\nMoneyMap shows you this in seconds. No spreadsheets needed. â†’ moneymap.app\",\n    \"ğŸš€ Stop guessing where your money goes.\\n\\nMoneyMap tracks everything automatically. Start free. â†’ moneymap.app\"\n  ],\n  subscription_hack: [\n    \"ğŸš¨ Real talk: That â‚¬9.99/month subscription = â‚¬120/year.\\n\\nMoneyMap shows your yearly cost. Might be time to cancel. â†’ moneymap.app\",\n    \"ğŸ“± When's the last time you used Netflix? Spotify? Disney+?\\n\\nMoneyMap tracks them all. Cancel what you don't watch. â†’ moneymap.app\",\n    \"ğŸ’¸ You're probably spending â‚¬200+/year on forgotten subscriptions.\\n\\nMoneyMap finds them. You cancel them. â†’ moneymap.app\",\n    \"ğŸ” Subscription check: How many do you actually use?\\n\\nMoneyMap shows the real cost. Most people save â‚¬50-100/month. â†’ moneymap.app\",\n    \"âŒ Paying for gym membership you never use? Streaming service you forgot about?\\n\\nMoneyMap tracks it all. â†’ moneymap.app\"\n  ],\n  savings_goal: [\n    \"ğŸ¯ Want to save â‚¬500 by summer?\\n\\nMoneyMap calculates: Save â‚¬83/month and you'll hit it.\\n\\nNo guessing. Just clarity. â†’ moneymap.app\",\n    \"ğŸ’ª Sarah saved â‚¬200 in her first month using MoneyMap.\\n\\nShe canceled 3 subscriptions she forgot about.\\n\\nYour turn? â†’ moneymap.app\",\n    \"ğŸ‰ Set a goal. Track progress. Hit your target.\\n\\nMoneyMap makes saving actually achievable. â†’ moneymap.app\",\n    \"ğŸ’° Saving for a trip? New laptop? Emergency fund?\\n\\nMoneyMap breaks it down: exactly how much to save each month. â†’ moneymap.app\",\n    \"ğŸ¯ Goal: â‚¬1,000 in 6 months = â‚¬167/month\\n\\nMoneyMap does the math. You do the saving. â†’ moneymap.app\"\n  ],\n  student_money: [\n    \"ğŸ“š Student life: â‚¬1,800 income, â‚¬1,200 expenses, â‚¬600 free money.\\n\\nKnow your numbers with MoneyMap. â†’ moneymap.app\",\n    \"ğŸ“ Being a student is expensive. But knowing where your money goes? Priceless.\\n\\nMoneyMap makes it simple. â†’ moneymap.app\",\n    \"ğŸ’° Track your student budget in 5 minutes.\\n\\nNo spreadsheets. No confusion. Just MoneyMap. â†’ moneymap.app\",\n    \"ğŸ“– Student budget reality: Rent + Food + Fun = Where did my money go?\\n\\nMoneyMap shows you. â†’ moneymap.app\",\n    \"ğŸ“ First time managing money? MoneyMap makes it stupid simple.\\n\\nBuilt for students by students. â†’ moneymap.app\"\n  ],\n  app_feature: [\n    \"ğŸ¤– New: AI Money Coach\\n\\nAsk: 'Can I afford this?' 'How to save faster?'\\n\\nGet real answers based on YOUR budget. â†’ moneymap.app\",\n    \"ğŸ“Š See exactly where your money goes with beautiful charts.\\n\\nNo spreadsheets. Just clarity. â†’ moneymap.app\",\n    \"ğŸ¯ MoneyMap = Income tracker + Subscription manager + Savings goals + AI coach.\\n\\nAll in one app. â†’ moneymap.app\",\n    \"âœ¨ Track income, manage subscriptions, set goals, get AI advice.\\n\\nAll in MoneyMap. All for free. â†’ moneymap.app\",\n    \"ğŸ’¡ Your money, visualized. Your goals, tracked. Your questions, answered.\\n\\nThat's MoneyMap. â†’ moneymap.app\"\n  ],\n  user_testimonial: [\n    \"'Saved â‚¬200 in the first month by canceling unused subscriptions!' - Sarah, 22\\n\\nJoin 10K+ users. â†’ moneymap.app\",\n    \"'Finally understand my money. Wish I found this sooner!' - Tom, 24\\n\\nTry it free. â†’ moneymap.app\",\n    \"'The AI coach is like having a financial advisor who actually gets me.' - Lisa, 21\\n\\nStart now. â†’ moneymap.app\",\n    \"'I was spending â‚¬150/month on subscriptions I didn't use. MoneyMap showed me.' - Mark, 23\\n\\nYour turn? â†’ moneymap.app\",\n    \"'Best budgeting app for students. Period.' - Emma, 20\\n\\nFree to start. â†’ moneymap.app\"\n  ]\n};\n\nconst contentType = $input.item.json.contentType;\nconst platform = $input.item.json.platform;\nconst templateArray = templates[contentType];\nlet content = templateArray[Math.floor(Math.random() * templateArray.length)];\n\n// Platform-specific formatting\nif (platform === 'instagram') {\n  content += '\\n\\n#budgeting #personalfinance #moneytips #studentlife #savingmoney #moneymap #financialfreedom #budgetingtips';\n} else if (platform === 'tiktok') {\n  content = content.replace('â†’ moneymap.app', '').trim() + '\\n\\n#budgeting #moneytips #studentlife #financetok #savingmoney';\n}\n\nreturn [{\n  json: {\n    ...($input.item.json),\n    content: content\n  }\n}];"
      },
      "id": "content-generator",
      "name": "Content Generator",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [680, 300],
      "notes": "Generates content from templates"
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.platform }}",
              "operation": "equals",
              "value2": "twitter"
            }
          ]
        }
      },
      "id": "twitter-filter",
      "name": "Twitter Filter",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [900, 200],
      "notes": "Routes to Twitter"
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.platform }}",
              "operation": "equals",
              "value2": "instagram"
            }
          ]
        }
      },
      "id": "instagram-filter",
      "name": "Instagram Filter",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [900, 300],
      "notes": "Routes to Instagram"
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{ $json.platform }}",
              "operation": "equals",
              "value2": "tiktok"
            }
          ]
        }
      },
      "id": "tiktok-filter",
      "name": "TikTok Filter",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [900, 400],
      "notes": "Routes to TikTok"
    },
    {
      "parameters": {
        "text": "={{ $json.content }}",
        "additionalFields": {}
      },
      "id": "post-to-twitter",
      "name": "Post to Twitter",
      "type": "n8n-nodes-base.twitter",
      "typeVersion": 1,
      "position": [1120, 200],
      "credentials": {
        "twitterOAuth1Api": {
          "id": "1",
          "name": "Twitter OAuth"
        }
      },
      "notes": "Posts to Twitter/X"
    },
    {
      "parameters": {
        "caption": "={{ $json.content }}",
        "mediaUrl": "https://moneymap.app/social-images/default.png"
      },
      "id": "post-to-instagram",
      "name": "Post to Instagram",
      "type": "n8n-nodes-base.instagram",
      "typeVersion": 1,
      "position": [1120, 300],
      "credentials": {
        "instagramApi": {
          "id": "2",
          "name": "Instagram API"
        }
      },
      "notes": "Posts to Instagram feed"
    },
    {
      "parameters": {
        "url": "https://open.tiktokapis.com/v2/post/publish/video/init/",
        "method": "POST",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "tiktokOAuth2Api",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "post_info",
              "value": "={{ { \"title\": $json.content, \"privacy_level\": \"PUBLIC_TO_EVERYONE\", \"disable_duet\": false, \"disable_comment\": false, \"disable_stitch\": false, \"video_cover_timestamp_ms\": 1000 } }}"
            }
          ]
        },
        "options": {}
      },
      "id": "post-to-tiktok",
      "name": "Post to TikTok",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [1120, 400],
      "credentials": {
        "tiktokOAuth2Api": {
          "id": "3",
          "name": "TikTok OAuth2"
        }
      },
      "notes": "Posts to TikTok (requires video upload separately)"
    }
  ],
  "connections": {
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Platform Router",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Platform Router": {
      "main": [
        [
          {
            "node": "Content Generator",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Content Generator": {
      "main": [
        [
          {
            "node": "Twitter Filter",
            "type": "main",
            "index": 0
          },
          {
            "node": "Instagram Filter",
            "type": "main",
            "index": 0
          },
          {
            "node": "TikTok Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Twitter Filter": {
      "main": [
        [
          {
            "node": "Post to Twitter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Instagram Filter": {
      "main": [
        [
          {
            "node": "Post to Instagram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "TikTok Filter": {
      "main": [
        [
          {
            "node": "Post to TikTok",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [
    {
      "createdAt": "2024-01-01T00:00:00.000Z",
      "updatedAt": "2024-01-01T00:00:00.000Z",
      "id": "1",
      "name": "marketing"
    }
  ],
  "pinData": {},
  "versionId": "1"
}
